<!DOCTYPE html>
<html><html class="scroll-smooth"><head><title>Edwin Park - PendantGraph</title><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="Edwin Park - PendantGraph" name="title"><meta name="description"><meta content="website" property="og:type"><meta content="https://esp1.github.io/project/2016-10-09_PendantGraph" property="og:url"><meta content="Edwin Park - PendantGraph" property="og:title"><meta property="og:description"><link href="/styles.css" rel="stylesheet" type="text/css"><script crossorigin="anonymous" integrity="sha384-Xh+GLLi0SMFPwtHQjT72aPG19QvKB8grnyRbYBNIdHWc2NkCrz65jlU7YrzO6qRp" src="https://unpkg.com/htmx.org@2.0.0/dist/htmx.js"></script><link href="https://fonts.googleapis.com" rel="preconnect"><link crossorigin href="https://fonts.gstatic.com" rel="preconnect"><link href="https://fonts.googleapis.com/css2?family=Indie+Flower&amp;display=swap" rel="stylesheet"></head><body class="bg-stone-400 grid place-content-center"><div class="mx-4 container prose prose-stone lg:prose-xl"><header class="not-prose mb-4"><nav class="my-4 flex justify-between items-center" id="header"><a class="w-24 h-16 opacity-60 hover:opacity-100 transition duration-200" href="/"><div class="my-2 origin-top-left scale-[.25]" id="name-tag"><div class="not-prose border border-2 border-black rounded rounded-2xl w-64 h-48 bg-stone-700 flex flex-col"><div class="p-2 text-center text-stone-50"><h1 class="text-2xl">Hello</h1><div class="text-xs">my name is</div></div><div class="grow bg-stone-50 grid place-content-center font-casual text-5xl text-stone-900">Edwin Park</div><div class="text-xs">&nbsp;</div></div></div></a><div><a class="rounded p-4 text-stone-300 hover:bg-stone-500 hover:text-stone-100 transform duration-200 " href="/about">about</a><a class="rounded p-4 text-stone-300 hover:bg-stone-500 hover:text-stone-100 transform duration-200 underline underline-offset-8 decoration-4" href="/projects">projects</a></div></nav><hr class="border-stone-300"></header><article><div><img class="not-prose w-full rounded-t-lg h-72 object-cover" height="2666" loading="lazy" src="/project/2016-10-09_PendantGraph/images/003_black_crown.jpg" width="2000"><div class="p-8 rounded-b-lg flex justify-between items-center bg-stone-800 text-stone-300"><div class="text-4xl font-bold">PendantGraph</div><div class="text-base text-stone-500">2016-10-09</div></div></div><p>Ever since I first saw these kinds of pendant drawing robots online years ago I had wanted to build one. They don't require a lot of mechanics - basically just a pen hanging from two motors - and can be scaled up to draw very large images by simply lengthening the chains to the pen holder.</p><div class="not-prose flex flex-wrap gap-0.5 place-content-center place-items-center" id="imageviewerThumbnails"><img alt="Drawing robot parts: stepper motors and drivers, 3d printed pen holder, chain, and dead C batteries for counterweights" class="block cursor-pointer rounded-md" height="150" hx-get="/imageviewer/project/2016-10-09_PendantGraph/parts/view/004_parts.jpeg/" hx-on:htmx:oob-after-swap="event.detail.target.showModal();
                                       event.detail.target.focus();" loading="lazy" src="/project/2016-10-09_PendantGraph/parts/004_parts-w200.jpeg" width="200"></div><p>I found some very nice 3D models for a polar drawbot pen holder on <a href="https://www.thingiverse.com/thing:798076">Thingiverse</a> that I decided to use. However I wanted to use different (read: cheaper) stepper motors and different chain, so I modeled my own 3d-printed gears. The main thing I was interested in though was how to program the software. Software exists for these kinds of robots, but I wanted to try to figure out how to write it myself.</p><p>It turns out the math for this is pretty easy. To position the pen at any point on the drawing surface, you just need to figure out the distance from that point to each of the two motors. These will be the lengths of chain that you will need from the pen holder to each of the two motors. If the motor is at coordinate (0,0) and the pen is at coordinate (a,b), the length of chain (c) can just be calculated as the hypotenuse of a right triangle via the Pythagorean theorem: <math><semantics><mrow><msup><mi>a</mi><mn>2</mn></msup><mo>+</mo><msup><mi>b</mi><mn>2</mn></msup><mo>=</mo><msup><mi>c</mi><mn>2</mn></msup></mrow><annotation encoding="TeX">a^2 + b^2 = c^2</annotation></semantics></math>.</p><div class="not-prose flex flex-wrap gap-0.5 place-content-center place-items-center" id="imageviewerThumbnails"><img class="block cursor-pointer rounded-md" height="154" hx-get="/imageviewer/project/2016-10-09_PendantGraph/math/view/trig.jpg/" hx-on:htmx:oob-after-swap="event.detail.target.showModal();
                                       event.detail.target.focus();" loading="lazy" src="/project/2016-10-09_PendantGraph/math/trig-w200.jpg" width="200"></div><p>The software is configured with locations of the motors, and assumes the pen has been positioned in the center of the drawing area. Then it takes in a list of coordinates, figures out how much longer or shorter it needs to make each chain in order to move the pen there, and commands the stepper motors to move those distances accordingly.</p><p>One thing I didn't implement was software to lift the pen off of the paper. This meant that whatever I drew had to be drawn in one continuous line. Fortunately I came across <a href="https://makezine.com/projects/trs-drawbot-2/">this article</a> about a different drawing robot that mentions a program called <a href="https://wiki.evilmadscientist.com/StippleGen">StippleGen</a> that can take any picture, dither it into a number of points, and then use a traveling salesman shortest-path algorithm to connect them all into a single continuous line. I used this to turn an image of the MakerSpace Charlotte logo into a path that this robot could then draw.</p><div class="not-prose flex flex-wrap gap-0.5 place-content-center place-items-center" id="imageviewerThumbnails"><img class="block cursor-pointer rounded-md" height="266" hx-get="/imageviewer/project/2016-10-09_PendantGraph/images/view/001_red_crown.jpeg/" hx-on:htmx:oob-after-swap="event.detail.target.showModal();
                                       event.detail.target.focus();" loading="lazy" src="/project/2016-10-09_PendantGraph/images/001_red_crown-w200.jpeg" width="200"><img class="block cursor-pointer rounded-md" height="266" hx-get="/imageviewer/project/2016-10-09_PendantGraph/images/view/002_side_view.jpeg/" hx-on:htmx:oob-after-swap="event.detail.target.showModal();
                                       event.detail.target.focus();" loading="lazy" src="/project/2016-10-09_PendantGraph/images/002_side_view-w200.jpeg" width="200"><img class="block cursor-pointer rounded-md" height="266" hx-get="/imageviewer/project/2016-10-09_PendantGraph/images/view/003_black_crown.jpg/" hx-on:htmx:oob-after-swap="event.detail.target.showModal();
                                       event.detail.target.focus();" loading="lazy" src="/project/2016-10-09_PendantGraph/images/003_black_crown-w200.jpg" width="200"></div><p>And... it worked! I attached the stepper motors to a whiteboard, put a whiteboard marker in the pen holder, and displayed this at the Charlotte Mini Maker Faire in 2016. It is very simple, but I think it also shows what something simple can do. This is basically just an Arduino Uno microcontroller and two of the cheapest BYJ-48 stepper motors you can find, along with some chain, a pen, and a few 3d printed parts.</p><p>At some point I'd love to revisit this to e.g. make the drawing surface much larger, be able to stream much larger pictures to the microcontroller, be able to lift the pen, etc. One of these days...</p><dialog class="not-prose fixed top-0 left-0 m-0 max-w-full max-h-full size-full bg-stone-800 place-content-center" id="imageviewer" onkeyup="if (event.code == &apos;ArrowLeft&apos;) {
                        htmx.find(this, &apos;#prev-image-button&apos;).click();
                        this.focus();
                      } else if (event.code == &apos;ArrowRight&apos;) {
                        htmx.find(this, &apos;#next-image-button&apos;).click();
                        this.focus();
                      }"></dialog></article><footer class="not-prose mt-24"><hr class="border-stone-300"><div class="flex justify-center"><a class="my-8 rounded-full stroke-stone-300 hover:bg-stone-500 hover:stroke-stone-100 hover:stroke-2 hover:drop-shadow-lg transform duration-200" onclick="window.scrollTo(0,0)"><svg fill="none" height="80" stroke-linecap="round" width="80"><path d="M24,48 L40,32 L56,48"></path></svg></a></div></footer></div></body></html></html>